<md-input-container
    class="form-group {{::form.htmlClass}} schema-form-select" sf-messages sf-layout>
  <label ng-show="::showTitle()">{{::form.title}}</label>
  <md-select sf-field-model sf-changed="form" schema-validate="form">
    <md-optgroup ng-repeat-start="(key, opt) in form.getOptions(form, evalExpr) | orderBy:'group' as optGroups"
                 ng-if="opt.group && opt.group != optGroups[key-1].group"
                 label="{{::opt.group}}"
                 aria-label="{{::opt.group}}">
      <md-option ng-repeat="(key, filtered) in form.getOptions(form, evalExpr) | filter: {group: opt.group} | orderBy:'name' as opts"
                 ng-value="::filtered.value"
                 aria-label="{{::filtered.name}}">{{::filtered.name}}</md-option>
    </md-optgroup>
    <md-option   ng-if="!opt.group"
                 ng-value="::opt.value"
                 ng-repeat-end>{{::opt.name}}</md-option>
  </md-select>
  <div ng-messages="ngModel.$error">
    <div sf-message ng-message></div>
  </div>
</md-input-container>
